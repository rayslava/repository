diff --git a/sqlite/CMakeLists.txt b/sqlite/CMakeLists.txt
index 30ab83e5..dfd41e6a 100644
--- a/sqlite/CMakeLists.txt
+++ b/sqlite/CMakeLists.txt
@@ -34,10 +34,14 @@ target_compile_definitions(tdsqlite PRIVATE
   -DSQLITE_OMIT_LOAD_EXTENSION
   -DSQLITE_OMIT_DECLTYPE
   -DSQLITE_OMIT_PROGRESS_CALLBACK
-  -DSQLITE_OMIT_DEPRECATED
+  -DSQLITE_DEFAULT_WAL_AUTOCHECKPOINT=30000
+  -DSQLITE_DEFAULT_CACHE_SIZE=-10000
+  -DSQLITE_DEFAULT_SYNCHRONOUS=1
+  -DSQLITE_DEFAULT_WAL_SYNCHRONOUS=1
+  #-DSQLITE_OMIT_DEPRECATED  # SQLCipher uses deprecated sqlite3_profile
   #-DSQLITE_OMIT_SHARED_CACHE
 )
-target_compile_definitions(tdsqlite PRIVATE -DSQLITE_HAS_CODEC -DSQLITE_TEMP_STORE=2 -DSQLITE_ENABLE_FTS5 -DSQLITE_DISABLE_LFS -DOMIT_MEMLOCK)
+target_compile_definitions(tdsqlite PRIVATE -DSQLITE_HAS_CODEC -DSQLITE_TEMP_STORE=3 -DSQLITE_ENABLE_FTS5 -DSQLITE_DISABLE_LFS)
 
 if (NOT WIN32)
   target_compile_definitions(tdsqlite PRIVATE -DHAVE_USLEEP -DNDEBUG=1)
